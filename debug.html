<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cytoscape Debug - Tạo đỉnh</title>
    <script src="https://unpkg.com/cytoscape@3.22.0/dist/cytoscape.min.js"></script>
    <style>
        #cy {
            width: 100%;
            height: 100vh;
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <div id="cy"></div>

    <script>
        // Khởi tạo Cytoscape
        var cy = cytoscape({
            container: document.getElementById('cy'),

            elements: [
                // Các đỉnh và cạnh khởi tạo
            ],

            style: [
                {
                    selector: 'node',
                    style: {
                        'background-color': '#66ccff',
                        'label': 'data(id)',
                        'width': '30px',
                        'height': '30px',
                        'text-valign': 'center',
                        'text-halign': 'center'
                    }
                },
                {
                    selector: 'edge',
                    style: {
                        'width': 2,
                        'line-color': '#ccc'
                    }
                }
            ],

            layout: {
                name: 'grid',
                rows: 1
            }
        });

        // Thêm đỉnh khi nhấn vào màn hình
        cy.on('tap', function(event){
            var pos = event.position; // Lấy vị trí của nhấn chuột

            // Tạo đỉnh mới tại vị trí nhấn
            cy.add({
                group: 'nodes',
                data: { id: '1' + Date.now() }, // Tạo ID duy nhất cho đỉnh
                position: { x: pos.x, y: pos.y }   // Vị trí tại điểm nhấn
            });
        });
    </script>
</body>
</html>
